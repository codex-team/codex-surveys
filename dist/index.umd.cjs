(function(){"use strict";try{if(typeof document!="undefined"){var e=document.createElement("style");e.appendChild(document.createTextNode("._container_14239_6{padding:10px;border:1px solid #E2E2E2;box-shadow:0 7px 9px #00000008;border-radius:10px;font-family:system-ui;bottom:10px;right:10px;position:fixed;z-index:2147483647;background:white;font-size:14px;line-height:17px;cursor:pointer}._title_14239_22{font-weight:500}._collapsed_14239_26{display:inline-flex;flex-direction:column}._description_14239_31{margin:0}._label_14239_35{font-weight:500}._select_14239_39{height:32px;padding:0 8px;border-radius:6px;border:1px solid #EFF0F1;background-repeat:no-repeat;background-position:right 6px bottom 50%;appearance:none;-moz-appearance:none;-webkit-appearance:none}._option_14239_52{appearance:none;-moz-appearance:none;-webkit-appearance:none}._textarea_14239_58{resize:none;border-radius:6px;border:1px solid #EFF0F1;padding:6px 8px;min-height:57px}._textarea_14239_58::placeholder{color:#00000080;font-size:14px;line-height:17px;font-weight:400;font-family:system-ui}._containerField_14239_74{display:grid;gap:6px;padding:10px 0}._form_14239_80{display:none}._open_14239_84 ._form_14239_80{display:flex;flex-direction:column;width:280px}._open_14239_84 ._collapsed_14239_26{display:none}._submit_14239_94{cursor:pointer;background:#1CADFF;padding:8px 0;border-radius:6px;border:none;color:#fff;font-size:14px;line-height:17px;font-weight:600}")),document.head.appendChild(e)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}})();
(function(c,p){typeof exports=="object"&&typeof module<"u"?module.exports=p():typeof define=="function"&&define.amd?define(p):(c=typeof globalThis<"u"?globalThis:c||self,c.CodeXSurveys=p())})(this,function(){"use strict";var ke=Object.defineProperty;var qe=(c,p,C)=>p in c?ke(c,p,{enumerable:!0,configurable:!0,writable:!0,value:C}):c[p]=C;var E=(c,p,C)=>(qe(c,typeof p!="symbol"?p+"":p,C),C);function c(e,r="",o={}){const i=document.createElement(e);return Array.isArray(r)?i.classList.add(...r):r&&i.classList.add(r),Object.keys(o).forEach(u=>{const h=u;i[h]=o[h]}),i}var p=(e=>(e.Select="select",e.Textarea="textarea",e.Submit="submit",e))(p||{});const C='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',m={colors:'"./tokens/colors.module.css"',fonts:'"./tokens/fonts.module.css"',"color-box-shadow":"rgba(0, 0, 0, 0.03)","color-placeholder":"rgba(0, 0, 0, 0.5)","color-text-white":"#FFFFFF","color-submit":"#1CADFF","color-select-border":"#EFF0F1","color-border":"#E2E2E2","color-background-primary":"white","main-font-size":"14px","normal-font-weight":"400","bold-font-weight":"500","main-line-height":"17px","extra-bold-font-weight":"600","main-font-weight":"undefined",container:"_container_14239_6",title:"_title_14239_22",collapsed:"_collapsed_14239_26",description:"_description_14239_31",label:"_label_14239_35",select:"_select_14239_39",option:"_option_14239_52",textarea:"_textarea_14239_58",containerField:"_containerField_14239_74",form:"_form_14239_80",open:"_open_14239_84",submit:"_submit_14239_94"};function x(e){return c("label",m.label,{textContent:e})}function ee(e){return c("p",m.description,{textContent:e})}function te(){const e=c("div",m.containerField);return e.appendChild(c("button",m.submit,{textContent:"Submit",type:"submit"})),e}function re(e){const r=c("select",m.select,{name:e.name});return r.style.backgroundImage=`url(data:image/svg+xml;utf8,${encodeURI(C)})`,e.options.forEach(o=>{const i=c("option",m.option);i.value=o.value,i.text=o.name,r.add(i)}),r}function oe(e){return c("textarea",m.textarea,{placeholder:e.placeholder||"",name:e.name})}function ae(e){switch(e.type){case p.Select:return re(e);case p.Textarea:return oe(e)}}class ie{constructor(r,o){E(this,"form");E(this,"container");E(this,"collapsedFormConfiguration");E(this,"fullFormConfiguration");this.fullFormConfiguration=r.form,this.collapsedFormConfiguration=r.collapsedForm,this.container=c("div",m.container),this.form=this.createOpenForm(o),this.createMinimizedForm()}collapseWidget(){this.container.classList.remove(m.open)}openWidget(){this.container.classList.add(m.open)}createMinimizedForm(){const r=c("div",m.collapsed);if(this.collapsedFormConfiguration.title){const o=c("span",m.title,{textContent:this.collapsedFormConfiguration.title});r.appendChild(o)}if(this.collapsedFormConfiguration.description){const o=c("span",m.description,{textContent:this.collapsedFormConfiguration.description});r.appendChild(o)}this.container.appendChild(r),document.body.appendChild(this.container),r.addEventListener("click",()=>{this.container.className.includes(m.open)?this.collapseWidget():this.openWidget()})}createOpenForm(r){const o=c("form",m.form);return this.fullFormConfiguration.description&&o.appendChild(ee(this.fullFormConfiguration.description)),this.fullFormConfiguration.items.forEach(i=>{const u=c("div",m.containerField);i.label&&u.appendChild(x(i.label));const h=ae(i.field);u.appendChild(h),o.appendChild(u)}),o.appendChild(te()),this.container.appendChild(o),o.addEventListener("submit",i=>{if(i.preventDefault(),r){const u=Object.fromEntries(new FormData(this.form||void 0).entries());r(u)}this.collapseWidget()}),o}}var F=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y={},M={},W={},g={};Object.defineProperty(g,"__esModule",{value:!0}),g.isObject=g.pick=g.assertNever=void 0;function ne(e){throw new Error(`Unexpected value should never occur: ${e}`)}g.assertNever=ne;function se(e,r){const o=r.map(i=>[i,e==null?void 0:e[i]]);return Object.fromEntries(o)}g.pick=se;function le(e){return typeof e=="object"&&e!==null}g.isObject=le,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.logLevelSeverity=e.makeConsoleLogger=e.LogLevel=void 0;const r=g;var o;(function(h){h.DEBUG="debug",h.INFO="info",h.WARN="warn",h.ERROR="error"})(o=e.LogLevel||(e.LogLevel={}));function i(h){return(y,P,t)=>{console[y](`${h} ${y}:`,P,t)}}e.makeConsoleLogger=i;function u(h){switch(h){case o.DEBUG:return 20;case o.INFO:return 40;case o.WARN:return 60;case o.ERROR:return 80;default:return(0,r.assertNever)(h)}}e.logLevelSeverity=u}(W);var H={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.buildRequestError=e.APIResponseError=e.UnknownHTTPResponseError=e.isHTTPResponseError=e.RequestTimeoutError=e.isNotionClientError=e.ClientErrorCode=e.APIErrorCode=void 0;const r=g;var o;(function(l){l.Unauthorized="unauthorized",l.RestrictedResource="restricted_resource",l.ObjectNotFound="object_not_found",l.RateLimited="rate_limited",l.InvalidJSON="invalid_json",l.InvalidRequestURL="invalid_request_url",l.InvalidRequest="invalid_request",l.ValidationError="validation_error",l.ConflictError="conflict_error",l.InternalServerError="internal_server_error",l.ServiceUnavailable="service_unavailable"})(o=e.APIErrorCode||(e.APIErrorCode={}));var i;(function(l){l.RequestTimeout="notionhq_client_request_timeout",l.ResponseError="notionhq_client_response_error"})(i=e.ClientErrorCode||(e.ClientErrorCode={}));class u extends Error{}function h(l){return(0,r.isObject)(l)&&l instanceof u}e.isNotionClientError=h;function y(l,d){return h(l)&&l.code in d}class P extends u{constructor(d="Request to Notion API has timed out"){super(d),this.code=i.RequestTimeout,this.name="RequestTimeoutError"}static isRequestTimeoutError(d){return y(d,{[i.RequestTimeout]:!0})}static rejectAfterTimeout(d,v){return new Promise((J,$)=>{const G=setTimeout(()=>{$(new P)},v);d.then(J).catch($).then(()=>clearTimeout(G))})}}e.RequestTimeoutError=P;class t extends u{constructor(d){super(d.message),this.name="HTTPResponseError";const{code:v,status:J,headers:$,rawBodyText:G}=d;this.code=v,this.status=J,this.headers=$,this.body=G}}const f={[i.ResponseError]:!0,[o.Unauthorized]:!0,[o.RestrictedResource]:!0,[o.ObjectNotFound]:!0,[o.RateLimited]:!0,[o.InvalidJSON]:!0,[o.InvalidRequestURL]:!0,[o.InvalidRequest]:!0,[o.ValidationError]:!0,[o.ConflictError]:!0,[o.InternalServerError]:!0,[o.ServiceUnavailable]:!0};function w(l){return!!y(l,f)}e.isHTTPResponseError=w;class N extends t{constructor(d){var v;super({...d,code:i.ResponseError,message:(v=d.message)!==null&&v!==void 0?v:`Request to Notion API failed with status: ${d.status}`}),this.name="UnknownHTTPResponseError"}static isUnknownHTTPResponseError(d){return y(d,{[i.ResponseError]:!0})}}e.UnknownHTTPResponseError=N;const Q={[o.Unauthorized]:!0,[o.RestrictedResource]:!0,[o.ObjectNotFound]:!0,[o.RateLimited]:!0,[o.InvalidJSON]:!0,[o.InvalidRequestURL]:!0,[o.InvalidRequest]:!0,[o.ValidationError]:!0,[o.ConflictError]:!0,[o.InternalServerError]:!0,[o.ServiceUnavailable]:!0};class Z extends t{constructor(){super(...arguments),this.name="APIResponseError"}static isAPIResponseError(d){return y(d,Q)}}e.APIResponseError=Z;function ve(l,d){const v=ge(d);return v!==void 0?new Z({code:v.code,message:v.message,headers:l.headers,status:l.status,rawBodyText:d}):new N({message:void 0,headers:l.headers,status:l.status,rawBodyText:d})}e.buildRequestError=ve;function ge(l){if(typeof l!="string")return;let d;try{d=JSON.parse(l)}catch{return}if(!(!(0,r.isObject)(d)||typeof d.message!="string"||!_e(d.code)))return{...d,code:d.code,message:d.message}}function _e(l){return typeof l=="string"&&l in Q}})(H);var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.listComments=n.createComment=n.search=n.createDatabase=n.listDatabases=n.queryDatabase=n.updateDatabase=n.getDatabase=n.appendBlockChildren=n.listBlockChildren=n.deleteBlock=n.updateBlock=n.getBlock=n.getPageProperty=n.updatePage=n.getPage=n.createPage=n.listUsers=n.getUser=n.getSelf=void 0,n.getSelf={method:"get",pathParams:[],queryParams:[],bodyParams:[],path:()=>"users/me"},n.getUser={method:"get",pathParams:["user_id"],queryParams:[],bodyParams:[],path:e=>`users/${e.user_id}`},n.listUsers={method:"get",pathParams:[],queryParams:["start_cursor","page_size"],bodyParams:[],path:()=>"users"},n.createPage={method:"post",pathParams:[],queryParams:[],bodyParams:["parent","properties","icon","cover","content","children"],path:()=>"pages"},n.getPage={method:"get",pathParams:["page_id"],queryParams:[],bodyParams:[],path:e=>`pages/${e.page_id}`},n.updatePage={method:"patch",pathParams:["page_id"],queryParams:[],bodyParams:["properties","icon","cover","archived"],path:e=>`pages/${e.page_id}`},n.getPageProperty={method:"get",pathParams:["page_id","property_id"],queryParams:["start_cursor","page_size"],bodyParams:[],path:e=>`pages/${e.page_id}/properties/${e.property_id}`},n.getBlock={method:"get",pathParams:["block_id"],queryParams:[],bodyParams:[],path:e=>`blocks/${e.block_id}`},n.updateBlock={method:"patch",pathParams:["block_id"],queryParams:[],bodyParams:["embed","type","archived","bookmark","image","video","pdf","file","audio","code","equation","divider","breadcrumb","table_of_contents","link_to_page","table_row","heading_1","heading_2","heading_3","paragraph","bulleted_list_item","numbered_list_item","quote","to_do","toggle","template","callout","synced_block","table"],path:e=>`blocks/${e.block_id}`},n.deleteBlock={method:"delete",pathParams:["block_id"],queryParams:[],bodyParams:[],path:e=>`blocks/${e.block_id}`},n.listBlockChildren={method:"get",pathParams:["block_id"],queryParams:["start_cursor","page_size"],bodyParams:[],path:e=>`blocks/${e.block_id}/children`},n.appendBlockChildren={method:"patch",pathParams:["block_id"],queryParams:[],bodyParams:["children"],path:e=>`blocks/${e.block_id}/children`},n.getDatabase={method:"get",pathParams:["database_id"],queryParams:[],bodyParams:[],path:e=>`databases/${e.database_id}`},n.updateDatabase={method:"patch",pathParams:["database_id"],queryParams:[],bodyParams:["title","description","icon","cover","properties","is_inline","archived"],path:e=>`databases/${e.database_id}`},n.queryDatabase={method:"post",pathParams:["database_id"],queryParams:[],bodyParams:["sorts","filter","start_cursor","page_size","archived"],path:e=>`databases/${e.database_id}/query`},n.listDatabases={method:"get",pathParams:[],queryParams:["start_cursor","page_size"],bodyParams:[],path:()=>"databases"},n.createDatabase={method:"post",pathParams:[],queryParams:[],bodyParams:["parent","properties","icon","cover","title","description","is_inline"],path:()=>"databases"},n.search={method:"post",pathParams:[],queryParams:[],bodyParams:["sort","query","start_cursor","page_size","filter"],path:()=>"search"},n.createComment={method:"post",pathParams:[],queryParams:[],bodyParams:["parent","rich_text","discussion_id"],path:()=>"comments"},n.listComments={method:"get",pathParams:[],queryParams:["block_id","start_cursor","page_size"],bodyParams:[],path:()=>"comments"};var z={exports:{}};(function(e,r){var o=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof i<"u")return i;throw new Error("unable to locate global object")},i=o();e.exports=r=i.fetch,i.fetch&&(r.default=i.fetch.bind(i)),r.Headers=i.Headers,r.Request=i.Request,r.Response=i.Response})(z,z.exports);const ue={name:"@notionhq/client",version:"2.2.2",description:"A simple and easy to use client for the Notion API",engines:{node:">=12"},homepage:"https://developers.notion.com/docs/getting-started",bugs:{url:"https://github.com/makenotion/notion-sdk-js/issues"},repository:{type:"git",url:"https://github.com/makenotion/notion-sdk-js/"},keywords:["notion","notionapi","rest","notion-api"],main:"./build/src",types:"./build/src/index.d.ts",scripts:{prepare:"npm run build",prepublishOnly:"npm run checkLoggedIn && npm run lint && npm run test",build:"tsc",prettier:"prettier --write .",lint:"prettier --check . && eslint . --ext .ts && cspell '**/*' ",test:"jest ./test","check-links":"git ls-files | grep md$ | xargs -n 1 markdown-link-check",prebuild:"npm run clean",clean:"rm -rf ./build",checkLoggedIn:"./scripts/verifyLoggedIn.sh"},author:"",license:"MIT",files:["build/package.json","build/src/**"],dependencies:{"@types/node-fetch":"^2.5.10","node-fetch":"^2.6.1"},devDependencies:{"@types/jest":"^28.1.4","@typescript-eslint/eslint-plugin":"^5.39.0","@typescript-eslint/parser":"^5.39.0",cspell:"^5.4.1",eslint:"^7.24.0",jest:"^28.1.2","markdown-link-check":"^3.8.7",prettier:"^2.3.0","ts-jest":"^28.0.5",typescript:"^4.8.4"}};var _=F&&F.__classPrivateFieldSet||function(e,r,o,i,u){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!u:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?u.call(e,o):u?u.value=o:r.set(e,o),o},k=F&&F.__classPrivateFieldGet||function(e,r,o,i){if(o==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!i:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?i:o==="a"?i.call(e):i?i.value:r.get(e)},R,j,T,D,O,B,U,L,I;Object.defineProperty(M,"__esModule",{value:!0});const q=W,A=H,s=g,a=n,de=z.exports,X=ue;class S{constructor(r){var o,i,u,h,y,P;R.set(this,void 0),j.set(this,void 0),T.set(this,void 0),D.set(this,void 0),O.set(this,void 0),B.set(this,void 0),U.set(this,void 0),L.set(this,void 0),I.set(this,void 0),this.blocks={retrieve:t=>this.request({path:a.getBlock.path(t),method:a.getBlock.method,query:(0,s.pick)(t,a.getBlock.queryParams),body:(0,s.pick)(t,a.getBlock.bodyParams),auth:t==null?void 0:t.auth}),update:t=>this.request({path:a.updateBlock.path(t),method:a.updateBlock.method,query:(0,s.pick)(t,a.updateBlock.queryParams),body:(0,s.pick)(t,a.updateBlock.bodyParams),auth:t==null?void 0:t.auth}),delete:t=>this.request({path:a.deleteBlock.path(t),method:a.deleteBlock.method,query:(0,s.pick)(t,a.deleteBlock.queryParams),body:(0,s.pick)(t,a.deleteBlock.bodyParams),auth:t==null?void 0:t.auth}),children:{append:t=>this.request({path:a.appendBlockChildren.path(t),method:a.appendBlockChildren.method,query:(0,s.pick)(t,a.appendBlockChildren.queryParams),body:(0,s.pick)(t,a.appendBlockChildren.bodyParams),auth:t==null?void 0:t.auth}),list:t=>this.request({path:a.listBlockChildren.path(t),method:a.listBlockChildren.method,query:(0,s.pick)(t,a.listBlockChildren.queryParams),body:(0,s.pick)(t,a.listBlockChildren.bodyParams),auth:t==null?void 0:t.auth})}},this.databases={list:t=>this.request({path:a.listDatabases.path(),method:a.listDatabases.method,query:(0,s.pick)(t,a.listDatabases.queryParams),body:(0,s.pick)(t,a.listDatabases.bodyParams),auth:t==null?void 0:t.auth}),retrieve:t=>this.request({path:a.getDatabase.path(t),method:a.getDatabase.method,query:(0,s.pick)(t,a.getDatabase.queryParams),body:(0,s.pick)(t,a.getDatabase.bodyParams),auth:t==null?void 0:t.auth}),query:t=>this.request({path:a.queryDatabase.path(t),method:a.queryDatabase.method,query:(0,s.pick)(t,a.queryDatabase.queryParams),body:(0,s.pick)(t,a.queryDatabase.bodyParams),auth:t==null?void 0:t.auth}),create:t=>this.request({path:a.createDatabase.path(),method:a.createDatabase.method,query:(0,s.pick)(t,a.createDatabase.queryParams),body:(0,s.pick)(t,a.createDatabase.bodyParams),auth:t==null?void 0:t.auth}),update:t=>this.request({path:a.updateDatabase.path(t),method:a.updateDatabase.method,query:(0,s.pick)(t,a.updateDatabase.queryParams),body:(0,s.pick)(t,a.updateDatabase.bodyParams),auth:t==null?void 0:t.auth})},this.pages={create:t=>this.request({path:a.createPage.path(),method:a.createPage.method,query:(0,s.pick)(t,a.createPage.queryParams),body:(0,s.pick)(t,a.createPage.bodyParams),auth:t==null?void 0:t.auth}),retrieve:t=>this.request({path:a.getPage.path(t),method:a.getPage.method,query:(0,s.pick)(t,a.getPage.queryParams),body:(0,s.pick)(t,a.getPage.bodyParams),auth:t==null?void 0:t.auth}),update:t=>this.request({path:a.updatePage.path(t),method:a.updatePage.method,query:(0,s.pick)(t,a.updatePage.queryParams),body:(0,s.pick)(t,a.updatePage.bodyParams),auth:t==null?void 0:t.auth}),properties:{retrieve:t=>this.request({path:a.getPageProperty.path(t),method:a.getPageProperty.method,query:(0,s.pick)(t,a.getPageProperty.queryParams),body:(0,s.pick)(t,a.getPageProperty.bodyParams),auth:t==null?void 0:t.auth})}},this.users={retrieve:t=>this.request({path:a.getUser.path(t),method:a.getUser.method,query:(0,s.pick)(t,a.getUser.queryParams),body:(0,s.pick)(t,a.getUser.bodyParams),auth:t==null?void 0:t.auth}),list:t=>this.request({path:a.listUsers.path(),method:a.listUsers.method,query:(0,s.pick)(t,a.listUsers.queryParams),body:(0,s.pick)(t,a.listUsers.bodyParams),auth:t==null?void 0:t.auth}),me:t=>this.request({path:a.getSelf.path(),method:a.getSelf.method,query:(0,s.pick)(t,a.getSelf.queryParams),body:(0,s.pick)(t,a.getSelf.bodyParams),auth:t==null?void 0:t.auth})},this.comments={create:t=>this.request({path:a.createComment.path(),method:a.createComment.method,query:(0,s.pick)(t,a.createComment.queryParams),body:(0,s.pick)(t,a.createComment.bodyParams),auth:t==null?void 0:t.auth}),list:t=>this.request({path:a.listComments.path(),method:a.listComments.method,query:(0,s.pick)(t,a.listComments.queryParams),body:(0,s.pick)(t,a.listComments.bodyParams),auth:t==null?void 0:t.auth})},this.search=t=>this.request({path:a.search.path(),method:a.search.method,query:(0,s.pick)(t,a.search.queryParams),body:(0,s.pick)(t,a.search.bodyParams),auth:t==null?void 0:t.auth}),_(this,R,r==null?void 0:r.auth,"f"),_(this,j,(o=r==null?void 0:r.logLevel)!==null&&o!==void 0?o:q.LogLevel.WARN,"f"),_(this,T,(i=r==null?void 0:r.logger)!==null&&i!==void 0?i:(0,q.makeConsoleLogger)(X.name),"f"),_(this,D,((u=r==null?void 0:r.baseUrl)!==null&&u!==void 0?u:"https://api.notion.com")+"/v1/","f"),_(this,O,(h=r==null?void 0:r.timeoutMs)!==null&&h!==void 0?h:6e4,"f"),_(this,B,(y=r==null?void 0:r.notionVersion)!==null&&y!==void 0?y:S.defaultNotionVersion,"f"),_(this,U,(P=r==null?void 0:r.fetch)!==null&&P!==void 0?P:de.default,"f"),_(this,L,r==null?void 0:r.agent,"f"),_(this,I,`notionhq-client/${X.version}`,"f")}async request({path:r,method:o,query:i,body:u,auth:h}){this.log(q.LogLevel.INFO,"request start",{method:o,path:r});const y=!u||Object.entries(u).length===0?void 0:JSON.stringify(u),P=new URL(`${k(this,D,"f")}${r}`);if(i)for(const[f,w]of Object.entries(i))w!==void 0&&P.searchParams.append(f,String(w));const t={...this.authAsHeaders(h),"Notion-Version":k(this,B,"f"),"user-agent":k(this,I,"f")};y!==void 0&&(t["content-type"]="application/json");try{const f=await A.RequestTimeoutError.rejectAfterTimeout(k(this,U,"f").call(this,P.toString(),{method:o.toUpperCase(),headers:t,body:y,agent:k(this,L,"f")}),k(this,O,"f")),w=await f.text();if(!f.ok)throw(0,A.buildRequestError)(f,w);const N=JSON.parse(w);return this.log(q.LogLevel.INFO,"request success",{method:o,path:r}),N}catch(f){throw(0,A.isNotionClientError)(f)&&(this.log(q.LogLevel.WARN,"request fail",{code:f.code,message:f.message}),(0,A.isHTTPResponseError)(f)&&this.log(q.LogLevel.DEBUG,"failed response body",{body:f.body})),f}}log(r,o,i){(0,q.logLevelSeverity)(r)>=(0,q.logLevelSeverity)(k(this,j,"f"))&&k(this,T,"f").call(this,r,o,i)}authAsHeaders(r){const o={},i=r!=null?r:k(this,R,"f");return i!==void 0&&(o.authorization=`Bearer ${i}`),o}}M.default=S,R=new WeakMap,j=new WeakMap,T=new WeakMap,D=new WeakMap,O=new WeakMap,B=new WeakMap,U=new WeakMap,L=new WeakMap,I=new WeakMap,S.defaultNotionVersion="2022-06-28";var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.isFullComment=b.isFullUser=b.isFullDatabase=b.isFullPage=b.isFullBlock=b.collectPaginatedAPI=b.iteratePaginatedAPI=void 0;async function*K(e,r){let o=r.start_cursor;do{const i=await e({...r,start_cursor:o});yield*i.results,o=i.next_cursor}while(o)}b.iteratePaginatedAPI=K;async function ce(e,r){const o=[];for await(const i of K(e,r))o.push(i);return o}b.collectPaginatedAPI=ce;function he(e){return"type"in e}b.isFullBlock=he;function pe(e){return"url"in e}b.isFullPage=pe;function me(e){return"title"in e}b.isFullDatabase=me;function be(e){return"type"in e}b.isFullUser=be;function fe(e){return"created_by"in e}b.isFullComment=fe,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isFullComment=e.isFullUser=e.isFullPage=e.isFullDatabase=e.isFullBlock=e.iteratePaginatedAPI=e.collectPaginatedAPI=e.isNotionClientError=e.RequestTimeoutError=e.UnknownHTTPResponseError=e.APIResponseError=e.ClientErrorCode=e.APIErrorCode=e.LogLevel=e.Client=void 0;var r=M;Object.defineProperty(e,"Client",{enumerable:!0,get:function(){return r.default}});var o=W;Object.defineProperty(e,"LogLevel",{enumerable:!0,get:function(){return o.LogLevel}});var i=H;Object.defineProperty(e,"APIErrorCode",{enumerable:!0,get:function(){return i.APIErrorCode}}),Object.defineProperty(e,"ClientErrorCode",{enumerable:!0,get:function(){return i.ClientErrorCode}}),Object.defineProperty(e,"APIResponseError",{enumerable:!0,get:function(){return i.APIResponseError}}),Object.defineProperty(e,"UnknownHTTPResponseError",{enumerable:!0,get:function(){return i.UnknownHTTPResponseError}}),Object.defineProperty(e,"RequestTimeoutError",{enumerable:!0,get:function(){return i.RequestTimeoutError}}),Object.defineProperty(e,"isNotionClientError",{enumerable:!0,get:function(){return i.isNotionClientError}});var u=b;Object.defineProperty(e,"collectPaginatedAPI",{enumerable:!0,get:function(){return u.collectPaginatedAPI}}),Object.defineProperty(e,"iteratePaginatedAPI",{enumerable:!0,get:function(){return u.iteratePaginatedAPI}}),Object.defineProperty(e,"isFullBlock",{enumerable:!0,get:function(){return u.isFullBlock}}),Object.defineProperty(e,"isFullDatabase",{enumerable:!0,get:function(){return u.isFullDatabase}}),Object.defineProperty(e,"isFullPage",{enumerable:!0,get:function(){return u.isFullPage}}),Object.defineProperty(e,"isFullUser",{enumerable:!0,get:function(){return u.isFullUser}}),Object.defineProperty(e,"isFullComment",{enumerable:!0,get:function(){return u.isFullComment}})}(Y);class ye{constructor(r){E(this,"notion",null);E(this,"configuration");this.configuration=r,this.init()}async send(r){var o,i;if(!this.configuration)return Promise.reject();await((i=this.notion)==null?void 0:i.pages.create({parent:{database_id:((o=this.configuration)==null?void 0:o.databaseId)||""},properties:this.packData(r)}))}packData(r){return Object.keys(r).reduce((o,i)=>Object.assign(o,{[i]:{type:"rich_text",rich_text:[{type:"text",text:{content:r[i]}}]}}),{})}init(){var r;this.notion=new Y.Client({auth:(r=this.configuration)==null?void 0:r.clientSecret})}}const V={notion:{databaseId:"",clientSecret:""},collapsedForm:{title:"Using Editor.js?",description:"Take a 2-minutes survey\u{1F64F}"},form:{description:"We want to better understand your goals and requirements. Please, provide us some insights.",items:[{label:"Product type",field:{name:"product_type",type:p.Select,options:[{name:"B2B",value:"B2B"},{name:"B2C",value:"B2C"}]}},{label:"Your product size",field:{type:p.Select,name:"product_size",options:[{name:"<100 DAU",value:"<100 DAU"},{name:"100 DAU - 1000 DAU",value:"100 DAU - 1000 DAU"},{name:"> 1000 DAU",value:"> 1000 DAU"}]}},{label:"Your software license",field:{name:"software_license",type:p.Select,options:[{name:"Freeware / Open-Source",value:"Freeware / Open-Source"},{name:"Permissive",value:"Permissive"},{name:"Proprietary",value:"Proprietary"}]}},{label:"Your suggestions to the Editor.js",field:{name:"suggestions",type:p.Textarea,placeholder:"Enter your ideas, requests or issues"}}]}};function Pe(){const e=new ye(V.notion);new ie({form:V.form,collapsedForm:V.collapsedForm},r=>{e.send(r)})}return Pe});
